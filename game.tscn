[gd_scene load_steps=23 format=3 uid="uid://jlav0m1ndqde"]

[ext_resource type="Script" path="res://game.gd" id="1_77rk7"]
[ext_resource type="PackedScene" uid="uid://bbow7knip3g6g" path="res://player/player.tscn" id="1_hu241"]
[ext_resource type="Script" path="res://player/state_machine/player_state_machine.gd" id="3_fg5sk"]
[ext_resource type="Script" path="res://player/state_machine/state_dead.gd" id="6_bheuf"]
[ext_resource type="Script" path="res://player/state_machine/state_living.gd" id="7_unc66"]
[ext_resource type="Script" path="res://player/state_machine/state_dying.gd" id="8_isvo6"]
[ext_resource type="PackedScene" uid="uid://yihpxsaeuqdi" path="res://ghost/ghost.tscn" id="9_t4a6d"]
[ext_resource type="PackedScene" uid="uid://b3nn5u3a5o85j" path="res://map/room/floor.tscn" id="10_44xgk"]
[ext_resource type="Script" path="res://map/room/room.gd" id="10_uwref"]
[ext_resource type="PackedScene" uid="uid://web8bdry114l" path="res://map/shrine.tscn" id="11_6msjq"]
[ext_resource type="PackedScene" uid="uid://bson3umirpot2" path="res://map/room/wall.tscn" id="12_5tnol"]
[ext_resource type="PackedScene" uid="uid://bwfkis8dga70e" path="res://items/key_item/key_item_world.tscn" id="12_tee81"]
[ext_resource type="PackedScene" uid="uid://bcep1wbs2caas" path="res://possessable/possessable.tscn" id="13_66ase"]
[ext_resource type="PackedScene" uid="uid://dic5onsop66y4" path="res://ui/game_menu.tscn" id="13_owhbc"]
[ext_resource type="PackedScene" uid="uid://kqqw3rvpgis6" path="res://possessable/attack/wall_painting/wall_painting.tscn" id="14_4x2p3"]
[ext_resource type="PackedScene" uid="uid://c1hur2s8mgagv" path="res://possessable/attack/possessable_throwable.tscn" id="14_23qy6"]
[ext_resource type="PackedScene" uid="uid://fpivfcuv6s1r" path="res://map/room/wall_with_door.tscn" id="14_t1an3"]
[ext_resource type="PackedScene" uid="uid://c176v8gdlci8v" path="res://old_man/old_man.tscn" id="15_3quv5"]
[ext_resource type="PackedScene" uid="uid://8tfld0cdj22d" path="res://items/crucifix/crucifix_world.tscn" id="15_h8yld"]
[ext_resource type="PackedScene" uid="uid://bfmkrask6gxl3" path="res://possessable/attack/possessable_ranged.tscn" id="15_lv48w"]
[ext_resource type="PackedScene" uid="uid://bwmbngtw81o3y" path="res://ui/debug_console.tscn" id="15_rbtf5"]
[ext_resource type="PackedScene" uid="uid://d3uaapt6yn0ed" path="res://items/tea/tea_world.tscn" id="21_lgjc2"]

[node name="Game" type="Node3D"]
script = ExtResource("1_77rk7")

[node name="Player" parent="." instance=ExtResource("1_hu241")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.830566, 0.486173, -0.271654, -0.492404, -0.413176, 0.766044, 0.260189, 0.770014, 0.582563, 0, 10, 0)
visible = false
light_color = Color(0.294118, 0.294118, 0.356863, 1)

[node name="DebugLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.830566, 0.486173, -0.271654, -0.492404, -0.413176, 0.766044, 0.260189, 0.770014, 0.582563, 0, 10, 0)
visible = false
light_color = Color(0.29219, 0.29219, 0.29219, 1)

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_fg5sk")

[node name="Dead" type="Node" parent="StateMachine"]
script = ExtResource("6_bheuf")

[node name="Living" type="Node" parent="StateMachine"]
script = ExtResource("7_unc66")

[node name="Dying" type="Node" parent="StateMachine"]
script = ExtResource("8_isvo6")

[node name="WorldGrid" type="Node3D" parent="."]

[node name="RoomBottom" type="Node3D" parent="WorldGrid"]
script = ExtResource("10_uwref")

[node name="Floor" parent="WorldGrid/RoomBottom" instance=ExtResource("10_44xgk")]

[node name="WallWithoutDoor" parent="WorldGrid/RoomBottom" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.55)

[node name="WallWithoutDoor2" parent="WorldGrid/RoomBottom" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.55, 0, 0)

[node name="WallWithoutDoor3" parent="WorldGrid/RoomBottom" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.55, 0, 0)

[node name="Shrine" parent="WorldGrid/RoomBottom" instance=ExtResource("11_6msjq")]
default = true

[node name="Shrine2" parent="WorldGrid/RoomBottom" instance=ExtResource("11_6msjq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -4.54)

[node name="WallPainting" parent="WorldGrid/RoomBottom" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.5, -7.45)

[node name="WallPainting2" parent="WorldGrid/RoomBottom" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1.5, -7.45)

[node name="WallWithDoor" parent="WorldGrid/RoomBottom" instance=ExtResource("14_t1an3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.55)

[node name="KeyItemWorld" parent="WorldGrid/RoomBottom" instance=ExtResource("12_tee81")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, 0)

[node name="TeaWorld" parent="WorldGrid/RoomBottom" instance=ExtResource("21_lgjc2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.5913, 0.587763, -6.3731)

[node name="OldMan" parent="WorldGrid/RoomBottom" instance=ExtResource("15_3quv5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1, -5)

[node name="RoomCenter" type="Node3D" parent="WorldGrid"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -15)
script = ExtResource("10_uwref")

[node name="Floor" parent="WorldGrid/RoomCenter" instance=ExtResource("10_44xgk")]

[node name="WallWithDoor" parent="WorldGrid/RoomCenter" instance=ExtResource("14_t1an3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.55)

[node name="WallWithDoor2" parent="WorldGrid/RoomCenter" instance=ExtResource("14_t1an3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.55)

[node name="WallWithDoor3" parent="WorldGrid/RoomCenter" instance=ExtResource("14_t1an3")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.55, 0, 0)

[node name="WallWithDoor4" parent="WorldGrid/RoomCenter" instance=ExtResource("14_t1an3")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7.55, 0, 0)

[node name="GhostCenter" parent="WorldGrid/RoomCenter" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Ranged" parent="WorldGrid/RoomCenter" instance=ExtResource("15_lv48w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 5)

[node name="Possessable" parent="WorldGrid/RoomCenter" instance=ExtResource("13_66ase")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0.25, 4)

[node name="Throwable" parent="WorldGrid/RoomCenter" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0.25, 4)

[node name="CrucifixWorld" parent="WorldGrid/RoomCenter" instance=ExtResource("15_h8yld")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 1, 2)

[node name="RoomLeft" type="Node3D" parent="WorldGrid"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -15)
script = ExtResource("10_uwref")

[node name="Floor" parent="WorldGrid/RoomLeft" instance=ExtResource("10_44xgk")]

[node name="WallWithDoor" parent="WorldGrid/RoomLeft" instance=ExtResource("14_t1an3")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7.55, 0, 0)

[node name="WallWithoutDoor" parent="WorldGrid/RoomLeft" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.55)

[node name="WallWithoutDoor2" parent="WorldGrid/RoomLeft" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.55)

[node name="WallWithoutDoor3" parent="WorldGrid/RoomLeft" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.55, 0, 0)

[node name="GhostLeft1" parent="WorldGrid/RoomLeft" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="GhostLeft2" parent="WorldGrid/RoomLeft" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -3)

[node name="GhostLeft3" parent="WorldGrid/RoomLeft" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, 0)

[node name="Possessable" parent="WorldGrid/RoomLeft" instance=ExtResource("13_66ase")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0.25, 0)

[node name="Throwable" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)

[node name="Throwable2" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0.25, -2)

[node name="Throwable3" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.25, 2)

[node name="Throwable4" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.25, -1)

[node name="Throwable5" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.25, -3)

[node name="Throwable6" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.25, 2)

[node name="Throwable7" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 3)

[node name="Throwable8" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.25, 1)

[node name="Throwable9" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.25, 1)

[node name="Throwable10" parent="WorldGrid/RoomLeft" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.25, -4)

[node name="RoomRight" type="Node3D" parent="WorldGrid"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 0, -15)
script = ExtResource("10_uwref")

[node name="Floor" parent="WorldGrid/RoomRight" instance=ExtResource("10_44xgk")]

[node name="WallWithDoor" parent="WorldGrid/RoomRight" instance=ExtResource("14_t1an3")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.55, 0, 0)

[node name="WallWithoutDoor" parent="WorldGrid/RoomRight" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.55)

[node name="WallWithoutDoor2" parent="WorldGrid/RoomRight" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.55)

[node name="WallWithoutDoor3" parent="WorldGrid/RoomRight" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.55, 0, 0)

[node name="GhostRight1" parent="WorldGrid/RoomRight" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, 0)

[node name="GhostRight2" parent="WorldGrid/RoomRight" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 2)

[node name="GhostRight3" parent="WorldGrid/RoomRight" instance=ExtResource("9_t4a6d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1, -4)

[node name="Throwable" parent="WorldGrid/RoomRight" instance=ExtResource("14_23qy6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)

[node name="WallPainting3" parent="WorldGrid/RoomRight" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1.5, -7.45)

[node name="WallPainting4" parent="WorldGrid/RoomRight" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 1.5, -7.45)

[node name="WallPainting5" parent="WorldGrid/RoomRight" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.5, -7.45)

[node name="WallPainting6" parent="WorldGrid/RoomRight" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -7.45)

[node name="WallPainting8" parent="WorldGrid/RoomRight" instance=ExtResource("14_4x2p3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.5, -7.45)

[node name="RoomTop" type="Node3D" parent="WorldGrid"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -30)
script = ExtResource("10_uwref")

[node name="Floor" parent="WorldGrid/RoomTop" instance=ExtResource("10_44xgk")]

[node name="WallWithDoor" parent="WorldGrid/RoomTop" instance=ExtResource("14_t1an3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.55)

[node name="WallWithoutDoor" parent="WorldGrid/RoomTop" instance=ExtResource("12_5tnol")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.55)

[node name="WallWithoutDoor2" parent="WorldGrid/RoomTop" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.55, 0, 0)

[node name="WallWithoutDoor3" parent="WorldGrid/RoomTop" instance=ExtResource("12_5tnol")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.55, 0, 0)

[node name="Shrine" parent="WorldGrid/RoomTop" instance=ExtResource("11_6msjq")]

[node name="UI" type="CanvasLayer" parent="."]

[node name="GameMenu" parent="UI" instance=ExtResource("13_owhbc")]
visible = false

[node name="DebugConsole" parent="UI" instance=ExtResource("15_rbtf5")]
process_mode = 3
visible = false
