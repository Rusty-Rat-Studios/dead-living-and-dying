[gd_scene load_steps=12 format=3 uid="uid://bq2dwqp4q6dn1"]

[ext_resource type="Script" uid="uid://br2ou0xf5p2mo" path="res://game.gd" id="1_xwopn"]
[ext_resource type="PackedScene" uid="uid://bbow7knip3g6g" path="res://player/player.tscn" id="2_xkdfq"]
[ext_resource type="Script" uid="uid://d27rd5rlvycvc" path="res://player/state_machine/player_state_machine.gd" id="3_3ig3n"]
[ext_resource type="Script" uid="uid://kgcxuhne3rbl" path="res://player/state_machine/state_dead.gd" id="4_r4nk8"]
[ext_resource type="Script" uid="uid://btdlvy02iwmn2" path="res://player/state_machine/state_living.gd" id="5_7fl8v"]
[ext_resource type="Script" uid="uid://bfwa3mijk47us" path="res://player/state_machine/state_dying.gd" id="6_xupbb"]
[ext_resource type="Script" uid="uid://dk6tfo4i3solm" path="res://map/world_grid.gd" id="7_24rg8"]
[ext_resource type="Texture2D" uid="uid://b7hy3m0hwp7c3" path="res://ui/resources/black_screen.png" id="8_8yir0"]
[ext_resource type="PackedScene" uid="uid://dic5onsop66y4" path="res://ui/menus/game_menu.tscn" id="8_ah51h"]
[ext_resource type="PackedScene" uid="uid://bwmbngtw81o3y" path="res://ui/debug_console.tscn" id="8_en8lj"]
[ext_resource type="Script" uid="uid://d1tfstjfdr6xj" path="res://ui/dead_screen_effect.gd" id="9_e1b6l"]

[node name="Game" type="Node3D"]
script = ExtResource("1_xwopn")

[node name="Player" parent="." instance=ExtResource("2_xkdfq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.873288, 0.0729331, 0.481714, -0.403253, -0.446664, 0.798673, 0.273414, -0.891724, -0.360656, 0, 10, 0)
visible = false
light_color = Color(0.29219, 0.29219, 0.29219, 1)
shadow_enabled = true

[node name="DebugLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.830566, 0.486173, -0.271654, -0.492404, -0.413176, 0.766044, 0.260189, 0.770014, 0.582564, 0, 10, 0)
light_color = Color(0.29219, 0.29219, 0.29219, 1)

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_3ig3n")

[node name="Dead" type="Node" parent="StateMachine"]
script = ExtResource("4_r4nk8")

[node name="Living" type="Node" parent="StateMachine"]
script = ExtResource("5_7fl8v")

[node name="Dying" type="Node" parent="StateMachine"]
script = ExtResource("6_xupbb")

[node name="WorldGrid" type="Node3D" parent="."]
script = ExtResource("7_24rg8")

[node name="UI" type="CanvasLayer" parent="."]

[node name="DeadScreenEffect" type="TextureRect" parent="UI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource("8_8yir0")
expand_mode = 1
script = ExtResource("9_e1b6l")

[node name="GameMenu" parent="UI" instance=ExtResource("8_ah51h")]
visible = false

[node name="DebugConsole" parent="UI" instance=ExtResource("8_en8lj")]
process_mode = 3
visible = false
