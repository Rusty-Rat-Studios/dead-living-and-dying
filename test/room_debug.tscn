[gd_scene load_steps=15 format=3 uid="uid://d4cxt6unhu3c6"]

[ext_resource type="Script" uid="uid://br2ou0xf5p2mo" path="res://game.gd" id="1_qruwo"]
[ext_resource type="PackedScene" uid="uid://bbow7knip3g6g" path="res://player/player.tscn" id="2_ahfm4"]
[ext_resource type="Script" uid="uid://d27rd5rlvycvc" path="res://player/state_machine/player_state_machine.gd" id="3_im3l8"]
[ext_resource type="Script" uid="uid://kgcxuhne3rbl" path="res://player/state_machine/state_dead.gd" id="4_6a0g5"]
[ext_resource type="Script" uid="uid://btdlvy02iwmn2" path="res://player/state_machine/state_living.gd" id="5_dobku"]
[ext_resource type="Script" uid="uid://bfwa3mijk47us" path="res://player/state_machine/state_dying.gd" id="6_imvu0"]
[ext_resource type="Script" uid="uid://bo0tyfrjfebc6" path="res://map/room_components/room.gd" id="7_01ym3"]
[ext_resource type="PackedScene" uid="uid://b3nn5u3a5o85j" path="res://map/room_components/floor.tscn" id="8_0ag1w"]
[ext_resource type="PackedScene" uid="uid://bson3umirpot2" path="res://map/room_components/wall.tscn" id="9_exyhi"]
[ext_resource type="PackedScene" uid="uid://dic5onsop66y4" path="res://ui/menus/game_menu.tscn" id="10_14pjr"]
[ext_resource type="Texture2D" uid="uid://chry31axu0hdv" path="res://player/dying.png" id="10_616hd"]
[ext_resource type="Script" uid="uid://b4yg822foka8j" path="res://ui/dying_screen_effect.gd" id="11_6hyob"]
[ext_resource type="PackedScene" uid="uid://bwmbngtw81o3y" path="res://ui/debug_console.tscn" id="11_prqow"]
[ext_resource type="PackedScene" uid="uid://bh1qwbhfylkio" path="res://ui/inventory/inventory_container.tscn" id="12_dhis3"]

[node name="Game" type="Node3D"]
script = ExtResource("1_qruwo")

[node name="Player" parent="." instance=ExtResource("2_ahfm4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 4)

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_im3l8")

[node name="Dead" type="Node" parent="StateMachine"]
script = ExtResource("4_6a0g5")

[node name="Living" type="Node" parent="StateMachine"]
script = ExtResource("5_dobku")

[node name="Dying" type="Node" parent="StateMachine"]
script = ExtResource("6_imvu0")

[node name="DebugRoom" type="Node3D" parent="."]
script = ExtResource("7_01ym3")

[node name="Floor" parent="DebugRoom" instance=ExtResource("8_0ag1w")]

[node name="WallWithoutDoor" parent="DebugRoom" instance=ExtResource("9_exyhi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8.05)

[node name="WallWithoutDoor2" parent="DebugRoom" instance=ExtResource("9_exyhi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.05, 0, 0)

[node name="WallWithoutDoor3" parent="DebugRoom" instance=ExtResource("9_exyhi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.05, 0, 0)

[node name="WallWithoutDoor4" parent="DebugRoom" instance=ExtResource("9_exyhi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8.05)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
visible = false
light_energy = 0.2

[node name="DebugLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.830566, 0.486173, -0.271654, -0.492404, -0.413176, 0.766044, 0.260189, 0.770014, 0.582564, 0, 10, 0)
light_color = Color(0.29219, 0.29219, 0.29219, 1)

[node name="UI" type="CanvasLayer" parent="."]

[node name="DyingScreenEffect" type="TextureRect" parent="UI"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("10_616hd")
expand_mode = 1
script = ExtResource("11_6hyob")

[node name="InventoryContainer" parent="UI" instance=ExtResource("12_dhis3")]
offset_top = -142.0
offset_right = 282.0

[node name="GameMenu" parent="UI" instance=ExtResource("10_14pjr")]
visible = false
show_how_to_play_on_start = false

[node name="DebugConsole" parent="UI" instance=ExtResource("11_prqow")]
process_mode = 3
visible = false
